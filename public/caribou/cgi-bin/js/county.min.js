!function(t){t.fn.county=function(s){var n=t.extend({endDateTime:new Date,animation:"fade",reflection:!0,reflectionOpacity:.2,speed:500,theme:"black"},s);return this.each(function(){function s(){clearTimeout(r),r=setTimeout(function(){a()},1e3)}function a(){var t=i(),a=c.find(".county-days"),o=c.find(".county-hours"),r=c.find(".county-minutes"),u=c.find(".county-seconds"),d=a.html(),h=o.html(),p=r.html(),f=u.html();d==t.days?a.html(t.days):n.reflection?e(a,l.find(".county-days"),d,t.days,n.animation):e(a,null,d,t.days,n.animation),h==t.hours?o.html(t.hours):n.reflection?e(o,l.find(".county-hours"),h,t.hours,n.animation):e(o,null,h,t.hours,n.animation),p==t.minutes?r.html(t.minutes):n.reflection?e(r,l.find(".county-minutes"),p,t.minutes,n.animation):e(r,null,p,t.minutes,n.animation),f==t.seconds?u.html(t.seconds):n.reflection?e(u,l.find(".county-seconds"),f,t.seconds,n.animation):e(u,null,f,t.seconds,n.animation),s()}function e(s,a,e,i,o){if("fade"==o)s.fadeOut("fast").fadeIn("fast").html(i),n.reflection&&a.fadeOut("fast").fadeIn("fast").html(i);else if("scroll"==o){var r=s.clone(),c=null;n.reflection&&(c=a.clone());var u=r.outerHeight();r.css({marginTop:-u}),r.html(i),r.prependTo(s.parent()),n.reflection&&(c.css({marginTop:-u}),c.html(i),c.prependTo(a.parent())),s.animate({marginTop:u},n.speed,function(){t(this).remove()}),r.animate({marginTop:0},n.speed,function(){}),n.reflection&&(a.animate({marginTop:u},n.speed,function(){t(this).remove()}),c.animate({marginTop:0},n.speed,function(){}))}}function i(){var t=new Date,s=parseFloat(n.endDateTime-t),a=0,e=0,i=0,r=parseFloat(s/1e3/60/60/24),c=parseInt(r);return r-=c,r*=24,i=parseInt(r),r-=i,r*=60,e=parseInt(r),r-=e,r*=60,a=parseInt(r),{days:Math.max(0,c),hours:o(Math.max(0,i),!1),minutes:o(Math.max(0,e),!1),seconds:o(Math.max(0,a),!1)}}function o(t,s){var n=t.toString();return s?1==n.length?"00"+n:2==n?"0"+n:n:1==n.length?"0"+n:n}var r=null,c=t(this);c.addClass("county "+n.theme),c.append('<span class="county-days-wrapper first"><span class="county-days">000</span></span><span class="county-hours-wrapper separator-left border-separator-right"><span class="county-hours">00</span></span><span class="county-minutes-wrapper separator-left separator-left"><span class="county-minutes">00</span></span><span class="county-seconds-wrapper separator-left last"><span class="county-seconds">00</span></span><div class="clear"></div><span class="county-label-days">Days</span><span class="county-label-hours">Hours</span><span class="county-label-minutes">Minutes</span><span class="county-label-seconds">Seconds</span>'),(void 0==c.attr("id")||null==c.attr("id"))&&c.attr("id",Math.random());var u=0;c.find(">span").each(function(){(t(this).hasClass("county-days-wrapper")||t(this).hasClass("county-hours-wrapper")||t(this).hasClass("county-minutes-wrapper")||t(this).hasClass("county-seconds-wrapper"))&&(u+=t(this).outerWidth())}),c.css({width:u}),c.find(">span>span").each(function(){t(this).css({width:t(this).width(),height:t(this).height()}),t(this).parent().css({width:t(this).width()});var s=c.find(".county-label-days"),n=c.find(".county-label-hours"),a=c.find(".county-label-minutes"),e=c.find(".county-label-seconds");t(this).hasClass("county-days")&&s.css({width:t(this).parent().outerWidth()}),t(this).hasClass("county-hours")&&n.css({width:t(this).parent().outerWidth()}),t(this).hasClass("county-minutes")&&a.css({width:t(this).parent().outerWidth()}),t(this).hasClass("county-seconds")&&e.css({width:t(this).parent().outerWidth()})});var l=c.clone().css({opacity:n.reflectionOpacity}).attr("id",c.attr("id")+"-refl").addClass("county-reflection");return n.reflection&&c.after(l),a(),s(),this})}}(jQuery);